<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
 <mapper namespace="AdminMapper"> 
 <resultMap type="com.choa.admin.AdminDTO" id="AdminDTO"></resultMap>
 

 	<select id="login" statementType="CALLABLE" parameterType="java.util.Map"> 
 	{ call admin_login(#{adminDTO.id, mode=IN},#{adminDTO.pw, mode=IN},#{admin, mode=OUT, jdbcType=CURSOR, javaType=java.sql.ResultSet, resultMap=AdminDTO}) }
 	</select>
 	
 	<select id="admin_selectList" resultType="com.choa.admin.AdminDTO">
 		select M.*,A.DEPARTMENT,A.POSITION,A.PHONE,A.EMAIL,A.PICTURE from admin A,MEMBER M where M.ID=A.ID
 	</select>
 	<select id="admin_selectOne" resultType="com.choa.admin.AdminDTO">
 		select M.*,A.DEPARTMENT,A.POSITION,A.PHONE,A.EMAIL,A.PICTURE from admin A,MEMBER M where M.ID=A.ID and M.ID=#{ID}
 	</select>  
</mapper> 